<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>server</title>
    <link href="../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../";</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="../../scripts/sourceset_dependencies.js" async="async"></script>
<link href="../../styles/style.css" rel="Stylesheet">
<link href="../../styles/jetbrains-mono.css" rel="Stylesheet">
<link href="../../styles/main.css" rel="Stylesheet">
<link href="../../styles/prism.css" rel="Stylesheet">
<link href="../../styles/logo-styles.css" rel="Stylesheet">
<script type="text/javascript" src="../../scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="../../scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="../../scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="../../scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="../../scripts/prism.js" async="async"></script>
<script type="text/javascript" src="../../scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
</head>
<body>
<div class="navigation-wrapper" id="navigation-wrapper">
    <div id="leftToggler"><span class="icon-toggler"></span></div>
    <div class="library-name">
            <a href="../../index.html">
                    <span>suspendapp-ktor</span>
            </a>
    </div>
    <div>
0.3.2-alpha.21.1+ad199fc    </div>
    <div class="pull-right d-flex">
        <button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
    </div>
</div>
<div id="container">
    <div id="leftColumn">
        <div id="sideMenu"></div>
    </div>
    <div id="main">
<div class="main-content" id="content" pageIds="suspendapp-ktor::arrow.continuations.ktor//server/arrow.fx.coroutines.continuations.ResourceScope#io.ktor.server.engine.ApplicationEngineFactory[TypeParam(bounds=[io.ktor.server.engine.ApplicationEngine]),TypeParam(bounds=[io.ktor.server.engine.ApplicationEngine.Configuration])]#kotlin.Int#kotlin.String#kotlin.collections.List[kotlin.String]#kotlin.Function1[TypeParam(bounds=[io.ktor.server.engine.ApplicationEngine.Configuration]),kotlin.Unit]#kotlin.time.Duration#kotlin.time.Duration#kotlin.time.Duration#kotlin.Function1[io.ktor.server.application.Application,kotlin.Unit]/PointingToDeclaration//-1538306412">
  <div class="breadcrumbs"><a href="../../index.html">suspendapp-ktor</a><span class="delimiter">/</span><a href="index.html">arrow.continuations.ktor</a><span class="delimiter">/</span><span class="current">server</span></div>
  <div class="cover ">
    <h1 class="cover"><span><span>server</span></span></h1>
  </div>
  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":suspendapp-ktor:dokkaHtml/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="server.html">TEngine</a><span class="token operator"> : </span><span data-unresolved-link="io.ktor.server.engine/ApplicationEngine///PointingToDeclaration/">ApplicationEngine</span><span class="token punctuation">, </span><span class="token keyword"></span><a href="server.html">TConfiguration</a><span class="token operator"> : </span><span data-unresolved-link="io.ktor.server.engine/ApplicationEngine.Configuration///PointingToDeclaration/">ApplicationEngine.Configuration</span><span class="token operator">&gt; </span><span data-unresolved-link="arrow.fx.coroutines.continuations/ResourceScope///PointingToDeclaration/">ResourceScope</span><span class="token punctuation">.</span><a href="server.html"><span class="token function">server</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">factory<span class="token operator">: </span><span data-unresolved-link="io.ktor.server.engine/ApplicationEngineFactory///PointingToDeclaration/">ApplicationEngineFactory</span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="server.html">TEngine</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="server.html">TConfiguration</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">port<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a><span class="token operator"> = </span><span class="token constant">80</span><span class="token punctuation">, </span></span><span class="parameter ">host<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator"> = </span><span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">, </span></span><span class="parameter ">watchPaths<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span><span class="token operator"> = </span>listOf(WORKING_DIRECTORY_PATH)<span class="token punctuation">, </span></span><span class="parameter ">configure<span class="token operator">: </span><span class="token keyword"></span><a href="server.html">TConfiguration</a><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a><span class="token operator"> = </span>{}<span class="token punctuation">, </span></span><span class="parameter ">preWait<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-duration/index.html">Duration</a><span class="token operator"> = </span>30.seconds<span class="token punctuation">, </span></span><span class="parameter ">grace<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-duration/index.html">Duration</a><span class="token operator"> = </span>500.milliseconds<span class="token punctuation">, </span></span><span class="parameter ">timeout<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-duration/index.html">Duration</a><span class="token operator"> = </span>500.milliseconds<span class="token punctuation">, </span></span><span class="parameter ">module<span class="token operator">: </span><span class="token keyword"></span><span data-unresolved-link="io.ktor.server.application/Application///PointingToDeclaration/">Application</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a><span class="token operator"> = </span>{}</span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="io.ktor.server.engine/ApplicationEngine///PointingToDeclaration/">ApplicationEngine</span></div><p class="paragraph">Ktor <span data-unresolved-link="io.ktor.server.engine/ApplicationEngine///PointingToDeclaration/">ApplicationEngine</span> as a <span data-unresolved-link="arrow.fx.coroutines/Resource///PointingToDeclaration/">Resource</span>. This <span data-unresolved-link="arrow.fx.coroutines/Resource///PointingToDeclaration/">Resource</span> will gracefully shut down the server When we need to shut down a Ktor service we need to properly take into account a <i>grace</i> period where we still handle requests instead of immediately cancelling any in-flight requests.</p><h4 class="">Parameters</h4><div data-togglable="Parameters"><div class="table" data-togglable="Parameters"><div class="table-row" data-filterable-current=":suspendapp-ktor:dokkaHtml/commonMain" data-filterable-set=":suspendapp-ktor:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>factory</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Application engine for processing the requests</p></div></div></div></div></div><div class="table-row" data-filterable-current=":suspendapp-ktor:dokkaHtml/commonMain" data-filterable-set=":suspendapp-ktor:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>port</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Server listening port. Default is set to 80</p></div></div></div></div></div><div class="table-row" data-filterable-current=":suspendapp-ktor:dokkaHtml/commonMain" data-filterable-set=":suspendapp-ktor:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>host</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Host address. Default is set to &quot;0.0.0.0&quot;</p></div></div></div></div></div><div class="table-row" data-filterable-current=":suspendapp-ktor:dokkaHtml/commonMain" data-filterable-set=":suspendapp-ktor:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>watch</span><wbr></wbr><span><span>Paths</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">specifies path substrings that will be watched for automatic reloading</p></div></div></div></div></div><div class="table-row" data-filterable-current=":suspendapp-ktor:dokkaHtml/commonMain" data-filterable-set=":suspendapp-ktor:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>configure</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Ktor server configuration parameters. Only this function is taken into account for auto-reload.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":suspendapp-ktor:dokkaHtml/commonMain" data-filterable-set=":suspendapp-ktor:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>pre</span><wbr></wbr><span><span>Wait</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">preWait a duration to wait before beginning the stop process. During this time, requests will continue to be accepted. This setting is useful to allow time for the container to be removed from the load balancer. This is disabled when <code class="lang-kotlin">io.ktor.development=true</code>.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":suspendapp-ktor:dokkaHtml/commonMain" data-filterable-set=":suspendapp-ktor:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>grace</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">grace a duration during which already inflight requests are allowed to continue before the shutdown process begins.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":suspendapp-ktor:dokkaHtml/commonMain" data-filterable-set=":suspendapp-ktor:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>timeout</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">timeout a duration after which the server will be forceably shutdown.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":suspendapp-ktor:dokkaHtml/commonMain" data-filterable-set=":suspendapp-ktor:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>module</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Represents configured and running web application, capable of handling requests.</p></div></div></div></div></div></div></div></div></div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2023 Copyright</span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
    </div>
</div>
</body>
</html>
